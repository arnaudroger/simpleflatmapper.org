---
layout: post
title: Release v3.17.0
---

# [V3.17.0](https://github.com/arnaudroger/SimpleFlatMapper/milestone/151?closed=1)

Csv Performance release, now have consistently better perf that last univocity release.

* [#499](https://github.com/arnaudroger/SimpleFlatMapper/issues/#499) ParallelReader performance improvement   
* [#504](https://github.com/arnaudroger/SimpleFlatMapper/issues/#504) CharConsumer on demand specialisation


You can now use the ParallelReader directly from the DSL.  
```java
    CsvParser.dsl()
        .parallelReader()
        .iterator(new File("mycsv.csv"));
```
Only recommended for bigish files - 20 MB at least -, and if you have spare cores. 

[mapping-benchmark](https://github.com/arnaudroger/mapping-benchmark/tree/master/sfm-csv) against Univocity 2.6.1

```
Benchmark                                       (bufferSize)  (nbRows)  (parallel)  (parallelBuffersize)  (quotes)  (trim)  Mode  Cnt    Score   Error  Units
SfmCsvParserBenchmark.parseCsvIterate                      4   1000000       false                  8192     false   false  avgt  200  330.402 ± 2.923  ms/op
UnivocityCsvParserBenchmark.parseCsv                     N/A   1000000       false                  8192     false     N/A  avgt  200  330.099 ± 0.942  ms/op

SfmCsvParserBenchmark.parseCsvIterate                      4   1000000       false                  8192      true   false  avgt  200  362.980 ± 8.940  ms/op
UnivocityCsvParserBenchmark.parseCsv                     N/A   1000000       false                  8192      true     N/A  avgt  200  386.221 ± 5.162  ms/op

SfmCsvParserBenchmark.parseCsvIterate                      4   1000000        true                  8192     false   false  avgt  200  195.554 ± 0.999  ms/op
UnivocityConcurrentCsvParserBenchmark.parseCsv           N/A   1000000         N/A                   N/A     false     N/A  avgt  200  204.678 ± 0.864  ms/op
UnivocityCsvParserBenchmark.parseCsv                     N/A   1000000        true                  8192     false     N/A  avgt  200  210.129 ± 0.646  ms/op

SfmCsvParserBenchmark.parseCsvIterate                      4   1000000        true                  8192      true   false  avgt  200  226.081 ± 2.477  ms/op
UnivocityConcurrentCsvParserBenchmark.parseCsv           N/A   1000000         N/A                   N/A      true     N/A  avgt  200  239.410 ± 2.555  ms/op
UnivocityCsvParserBenchmark.parseCsv                     N/A   1000000        true                  8192      true     N/A  avgt  200  250.737 ± 2.526  ms/op
```